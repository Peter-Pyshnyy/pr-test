[{"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\index.js":"1","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\reportWebVitals.js":"2","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\App.js":"3","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Stops.js":"4","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Airlines.js":"5","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Sort.js":"6","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\FlightTicket.js":"7","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\scripts\\data.js":"8","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\TicketList.js":"9","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Flights.js":"10"},{"size":494,"mtime":1649767651826,"results":"11","hashOfConfig":"12"},{"size":375,"mtime":1649767651827,"results":"13","hashOfConfig":"12"},{"size":719,"mtime":1649767651804,"results":"14","hashOfConfig":"12"},{"size":1653,"mtime":1649767651816,"results":"15","hashOfConfig":"12"},{"size":1275,"mtime":1649767651812,"results":"16","hashOfConfig":"12"},{"size":496,"mtime":1649767651815,"results":"17","hashOfConfig":"12"},{"size":1249,"mtime":1649767651813,"results":"18","hashOfConfig":"12"},{"size":455,"mtime":1649612508519,"results":"19","hashOfConfig":"12"},{"size":3384,"mtime":1649767651817,"results":"20","hashOfConfig":"12"},{"size":1926,"mtime":1649767651814,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"104jn2x",{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\index.js",[],"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\reportWebVitals.js",[],"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\App.js",["47","48","49"],"import \"./styles/reset.css\";\r\nimport \"./styles/style.css\";\r\nimport logo from \"./assets/img/Logo.svg\";\r\nimport Stops from \"./components/Stops\";\r\nimport TicketList from \"./components/TicketList\";\r\nimport Airlines from \"./components/Airlines\";\r\nimport Sort from \"./components/Sort\";\r\nimport Flights from \"./components/Flights\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"Head\">\r\n        <img src={logo} />\r\n      </div>\r\n      <div className=\"Content\">\r\n        <div className=\"Settings\">\r\n          <Stops />\r\n          <Airlines />\r\n        </div>\r\n        <div className=\"Flights\">\r\n          <Flights />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Stops.js",[],"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Airlines.js",[],"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Sort.js",["50","51"],"import React from \"react\";\r\nimport \"./component-styles/sort.css\";\r\nimport { useEffect, useState } from \"react/cjs/react.production.min\";\r\n\r\nconst Sort = (props) => (\r\n  <div className=\"SortMenu\">\r\n    <div className=\"SortOption\">\r\n      <h3>Самый дешевый</h3>\r\n    </div>\r\n    <div className=\"SortOption\">\r\n      <h3>Самый быстрый</h3>\r\n    </div>\r\n    <div className=\"SortOption\">\r\n      <h3>Оптимальный</h3>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Sort;\r\n","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\FlightTicket.js",["52","53"],"import React from \"react\";\r\nimport \"./component-styles/card.css\";\r\nimport \"./component-styles/ticket.css\";\r\nimport LogoS7 from \"../assets/img/S7 Logo.png\";\r\nimport LogoXi from \"../assets/img/XiamenAir Logo.png\";\r\n\r\nconst TicketSegment = (props) => (\r\n  <div className=\"TicketSegment\">\r\n    <div className=\"SegmentInfo\">\r\n      <p className=\"InfoHeader\">Head</p>\r\n      <p className=\"InfoData\">Info</p>\r\n    </div>\r\n    <div className=\"SegmentInfo\">\r\n      <p className=\"InfoHeader\">В пути</p>\r\n      <p className=\"InfoData\">Info</p>\r\n    </div>\r\n    <div className=\"SegmentInfo\">\r\n      <p className=\"InfoHeader\">Head</p>\r\n      <p className=\"InfoData\">Info</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst FlightTicket = (props) => (\r\n  <div className=\"Card Ticket\">\r\n    <div className=\"TicketUpper\">\r\n      <div className=\"Price\">{props.ticket.price}</div>\r\n      <img className=\"CompanyLogo\" src={getLogo(props.ticket.companyId)} />\r\n    </div>\r\n    <div className=\"TicketLower\">\r\n      <TicketSegment ticket={props.ticket} />\r\n      <TicketSegment ticket={props.ticket} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nfunction getLogo(companyId) {\r\n  return companyId == \"cddfa038-823b-43b1-b18d-395731881077\" ? LogoS7 : LogoXi;\r\n}\r\n\r\nexport default FlightTicket;\r\n","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\scripts\\data.js",[],"C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\TicketList.js",["54","55","56","57"],"import React from \"react\";\r\nimport \"./component-styles/card.css\";\r\nimport FlightTicket from \"./FlightTicket\";\r\nimport { useEffect, useState } from \"react/cjs/react.production.min\";\r\n\r\nexport default class TicketList extends React.Component {\r\n  state = {\r\n    loading: true,\r\n    ticket: null,\r\n    displayed: 0,\r\n    sortType: 0,\r\n  };\r\n\r\n  changeSortType = (type) => {\r\n    this.setState({ sortType: type });\r\n    this.updateList();\r\n  };\r\n\r\n  updateList = async () => {\r\n    let arr = [];\r\n    let sortedArr = [];\r\n\r\n    const res = await fetch(\"json/tickets.json\");\r\n    const data = await res.json();\r\n    sortedArr = await sort(this.state.sortType, data);\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      arr.push(sortedArr[i]);\r\n    }\r\n    this.setState({ ticket: arr, loading: false });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.updateList();\r\n\r\n    // const res = await fetch(\"json/tickets.json\");\r\n    // const data = await res.json();\r\n    // sortedArr = await sort(this.state.sortType, data);\r\n\r\n    // for (let i = this.state.displayed; i < 5; i++) {\r\n    //   arr.push(sortedArr[i]);\r\n    //   this.setState({ displayed: i });\r\n    // }\r\n    // this.setState({ ticket: arr, loading: false });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.loading || !this.state.ticket ? (\r\n          <div>Загрузка...</div>\r\n        ) : (\r\n          <div>\r\n            <ul>\r\n              {this.state.ticket.map((e) => {\r\n                return (\r\n                  <li key={e.id}>\r\n                    <FlightTicket ticket={e} />\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nasync function sort(type, data) {\r\n  let arr = data;\r\n\r\n  switch (type) {\r\n    case 0:\r\n      arr.sort(priceSort);\r\n      break;\r\n    case 1:\r\n      arr.sort(durationSort);\r\n      break;\r\n    case 2:\r\n      arr.sort(optimalSort);\r\n      break;\r\n    default:\r\n      return arr;\r\n  }\r\n\r\n  console.log(arr);\r\n  return await arr;\r\n}\r\n\r\nconst priceSort = (a, b) => {\r\n  return a.price - b.price;\r\n};\r\n\r\n// const checkDur = async (e) => {\r\n//   const segmentA = await getSegments(e);\r\n\r\n//   let durationA = 0;\r\n//   await segmentA.map((e) => (durationA += e.duration));\r\n\r\n//   console.log(durationA);\r\n// };\r\n\r\nconst durationSort = async (a, b) => {\r\n  const segmentA = await getSegments(a);\r\n  const segmentB = await getSegments(b);\r\n\r\n  let durationA = 0;\r\n  await segmentA.map((e) => (durationA += e.duration));\r\n\r\n  let durationB = 0;\r\n  await segmentB.map((e) => (durationB += e.duration));\r\n\r\n  return durationA - durationB;\r\n};\r\n\r\nconst optimalSort = async (a, b) => {\r\n  const segmentA = await getSegments(a);\r\n  const segmentB = await getSegments(b);\r\n\r\n  let stopsA = 0;\r\n  await segmentA.map((e) => (stopsA += e.stops.length));\r\n\r\n  let stopsB = 0;\r\n  await segmentB.map((e) => (stopsB += e.stops.length));\r\n\r\n  return stopsA - stopsB;\r\n};\r\n\r\nconst getSegments = async (ticket) => {\r\n  let segments = [];\r\n  let segmentsAmount = ticket.segments.length;\r\n  const res = await fetch(\"json/segments.json\");\r\n  const data = await res.json();\r\n\r\n  data.map((segment) => {\r\n    let found = false;\r\n    for (let i = 0; i < segmentsAmount; i++) {\r\n      found = ticket.segments[i] == segment.id;\r\n\r\n      if (found) segments.push(segment);\r\n    }\r\n  });\r\n  return segments;\r\n};\r\n","C:\\Users\\Petya\\Desktop\\proging\\webdev\\rct\\aviation\\src\\components\\Flights.js",["58","59","60","61","62"],"import React, { Component } from \"react\";\r\nimport \"./component-styles/sort.css\";\r\nimport \"./component-styles/loadMore.css\";\r\nimport { useEffect, useState } from \"react/cjs/react.production.min\";\r\nimport TicketList from \"./TicketList\";\r\n\r\nclass Sort extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"SortMenu\">\r\n        <div className=\"SortOption SortLeft Active\" onClick={this.props.sort0}>\r\n          <h3>Самый дешевый</h3>\r\n        </div>\r\n        <div className=\"SortOption\" onClick={this.props.sort1}>\r\n          <h3>Самый быстрый</h3>\r\n        </div>\r\n        <div className=\"SortOption SortRight\" onClick={this.props.sort2}>\r\n          <h3>Оптимальный</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass LoadMore extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"LoadMore\">\r\n        <p>Показать еще 5 билетов!</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default class Flights extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { sortStyle: 0 };\r\n    this.sort0 = this.sort0;\r\n    this.sort1 = this.sort1;\r\n    this.sort2 = this.sort2;\r\n    this.flightListElement = React.createRef();\r\n  }\r\n  sort0 = () => {\r\n    this.setState({ sortStyle: 0 });\r\n    this.flightListElement.current.changeSortType(0);\r\n    console.log(this.state.sortStyle);\r\n  };\r\n  sort1 = () => {\r\n    this.setState({ sortStyle: 1 });\r\n    this.flightListElement.current.changeSortType(1);\r\n    console.log(this.state.sortStyle);\r\n  };\r\n  sort2 = () => {\r\n    this.setState({ sortStyle: 2 });\r\n    this.flightListElement.current.changeSortType(2);\r\n    console.log(this.state.sortStyle);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Sort sort0={this.sort0} sort1={this.sort1} sort2={this.sort2} />\r\n        <TicketList ref={this.flightListElement} />\r\n        <LoadMore />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",{"ruleId":"63","severity":1,"message":"64","line":5,"column":8,"nodeType":"65","messageId":"66","endLine":5,"endColumn":18},{"ruleId":"63","severity":1,"message":"67","line":7,"column":8,"nodeType":"65","messageId":"66","endLine":7,"endColumn":12},{"ruleId":"68","severity":1,"message":"69","line":14,"column":9,"nodeType":"70","endLine":14,"endColumn":27},{"ruleId":"63","severity":1,"message":"71","line":3,"column":10,"nodeType":"65","messageId":"66","endLine":3,"endColumn":19},{"ruleId":"63","severity":1,"message":"72","line":3,"column":21,"nodeType":"65","messageId":"66","endLine":3,"endColumn":29},{"ruleId":"68","severity":1,"message":"69","line":28,"column":7,"nodeType":"70","endLine":28,"endColumn":76},{"ruleId":"73","severity":1,"message":"74","line":38,"column":20,"nodeType":"75","messageId":"76","endLine":38,"endColumn":22},{"ruleId":"63","severity":1,"message":"71","line":4,"column":10,"nodeType":"65","messageId":"66","endLine":4,"endColumn":19},{"ruleId":"63","severity":1,"message":"72","line":4,"column":21,"nodeType":"65","messageId":"66","endLine":4,"endColumn":29},{"ruleId":"77","severity":1,"message":"78","line":136,"column":22,"nodeType":"79","messageId":"80","endLine":136,"endColumn":24},{"ruleId":"73","severity":1,"message":"74","line":139,"column":34,"nodeType":"75","messageId":"76","endLine":139,"endColumn":36},{"ruleId":"63","severity":1,"message":"71","line":4,"column":10,"nodeType":"65","messageId":"66","endLine":4,"endColumn":19},{"ruleId":"63","severity":1,"message":"72","line":4,"column":21,"nodeType":"65","messageId":"66","endLine":4,"endColumn":29},{"ruleId":"81","severity":1,"message":"82","line":39,"column":18,"nodeType":"83","messageId":"84","endLine":39,"endColumn":28},{"ruleId":"81","severity":1,"message":"85","line":40,"column":18,"nodeType":"83","messageId":"84","endLine":40,"endColumn":28},{"ruleId":"81","severity":1,"message":"86","line":41,"column":18,"nodeType":"83","messageId":"84","endLine":41,"endColumn":28},"no-unused-vars","'TicketList' is defined but never used.","Identifier","unusedVar","'Sort' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useEffect' is defined but never used.","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-self-assign","'this.sort0' is assigned to itself.","MemberExpression","selfAssignment","'this.sort1' is assigned to itself.","'this.sort2' is assigned to itself."]